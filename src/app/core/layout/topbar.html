<header class="topbar">
  <div class="topbar-left">
    <button
      pButton
      type="button"
      icon="pi pi-bars"
      class="p-button-text p-button-plain menu-button"
      (click)="onMenuToggle()"
    ></button>
  </div>

  <div class="topbar-right">
    <div class="user-section" (click)="userMenu.toggle($event)">
      <span class="user-name">{{ currentUser()?.full_name || currentUser()?.email || 'Usuario' }}</span>
      <p-avatar
        [label]="getUserInitials()"
        shape="circle"
        styleClass="user-avatar"
      />
    </div>
    <p-menu
      #userMenu
      [model]="userMenuItems"
      [popup]="true"
      appendTo="body"
    />
  </div>
</header>
